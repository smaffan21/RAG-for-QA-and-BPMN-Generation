graph TD;
    evt_new_order([New Order Received])
    task_verify_payment["Verify Payment Method"]
    gw_payment_valid{Payment Valid?}
    task_check_min_total["Check Order Total"]
    gw_min_total{Order Total >= $10?}
    task_check_stock["Check Item Stock"]
    gw_stock_available{All Items in Stock?}
    task_check_fraud["Manual Fraud Check"]
    gw_fraud_check{Fraud Check Passed?}
    task_verify_shipping["Verify Shipping Address"]
    gw_shipping_valid{Shipping Address Valid?}
    task_check_premium["Check Premium Status"]
    gw_premium_status{Premium Member?}
    task_prep_standard["Prepare Standard Shipment"]
    task_prep_expedited["Prepare Expedited Shipment"]
    evt_order_processed([Order Processed])
    evt_order_rejected([Order Rejected])
    evt_new_order --> task_verify_payment
    task_verify_payment --> gw_payment_valid
    gw_payment_valid -- Payment Valid --> task_check_min_total
    gw_payment_valid -- Payment Invalid --> evt_order_rejected
    gw_min_total -- Total >= $10 --> task_check_stock
    gw_min_total -- Total < $10 --> evt_order_rejected
    gw_stock_available -- Stock Available --> task_check_fraud
    gw_stock_available -- Stock Unavailable --> evt_order_rejected
    gw_fraud_check -- Fraud Check Passed --> task_verify_shipping
    gw_fraud_check -- Fraud Check Failed --> evt_order_rejected
    gw_shipping_valid -- Shipping Valid --> task_check_premium
    gw_shipping_valid -- Shipping Invalid --> evt_order_rejected
    gw_premium_status -- Premium Member --> task_prep_expedited
    gw_premium_status -- Standard Member --> task_prep_standard
    task_prep_standard --> evt_order_processed
    task_prep_expedited --> evt_order_processed